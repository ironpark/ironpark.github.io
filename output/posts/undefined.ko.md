---
created: 2025-08-13T02:35
updated: 2025-08-30T04:04:22.000Z
published: null
title: Papers, Please
subTitle: 넌 못 지나간다.
description: 쿠키와 세션, 그리고 토큰 인증 시스템에 대하여
series: papers-please-the-authentication
categories:
  - Thoughts
tags: null
lang: ko
thumbnail: ''
originalLang: ko
---

### 아르스토츠카에 오신 것을 환영합니다

2013년, 한 인디 게임이 전 세계 게이머들을 가상의 국경 검문소로 초대했다. Papers, Please - 플레이어는 가상 국가 아르스토츠카의 국경 검문관이 되어 하루 종일 여권을 검사하고, 서류를 대조하며, 입국 허가 도장을 찍는다.

언뜻 지루해 보이는 이 게임이 왜 그토록 인기를 끌었을까? 독특한 게임 컨셉, 몰입도 높은 분위기, 그리고 무엇보다 플레이어에게 끊임없는 **윤리적 딜레마**를 안겨주는 시스템 때문이다. 규정을 지키면 가족이 굶고, 인정을 베풀면 테러리스트가 입국할 수도 있다. 매일 바뀌는 입국 규정, 점점 정교해지는 위조 서류, 그리고 "제발 이번만 봐주세요"라는 간청 사이에서 플레이어는 끊임없이 판단하고 그 결과를 감당해야 한다.

### 백엔드 개발자, 디지털 세계의 국경 검문관
> 이런 정말 깐깐한 국경이군, 성실히 일해서 보기 좋구만 **입국 머시기를 가지고 다시 오겠네** - Jorji Costava 
> *게임 Paper, Please 에서*

잠깐, 이 상황이 낯설지 않다.

`POST /api/login`
```json
{
  "username": "jorji_costava",
  "password": "cobrastan_best"
}
```

백엔드 개발자의 일상도 크게 다르지 않다. 매 순간 작게는 수십 많게는 수천, 수만 개의 HTTP 요청이 우리의 API 게이트웨이 앞에 줄을 선다. 각각의 요청은 자신이 정당한 사용자라고 주장하며, 우리의 서비스에 접근하길 원한다.

- 이 요청은 진짜 유저가 보낸 것일까, 아니면 봇일까?
- 이 토큰은 유효한가? 만료되지 않았나?
- 이 사용자는 이 리소스에 접근할 권한이 있는가?
- 5초 전에도 똑같은 요청을 보낸 것 같은데... 브루트포스 공격인가?

Papers, Please의 검문관이 여권의 만료일을 확인하고, 사진과 실물을 대조하며, 입국 목적을 심사하듯이, 우리는 매 요청마다 인증(Authentication)과 인가(Authorization)라는 이름의 서류 심사를 수행한다.

### 점점 복잡해지는 입국 규정

게임 속 아르스토츠카의 입국 규정은 날이 갈수록 복잡해진다. 처음엔 "여권만 확인하세요"였던 규칙이 어느새 "콜레치아 시민은 입국 허가증 필요, 임프르 출신은 추가 신원 조회, 모든 외국인은 예방접종 증명서 제출"로 진화한다.

현실의 웹 서비스도 마찬가지다. 처음엔 단순한 ID/Password 확인으로 시작했지만, 이제는 2단계 인증(2FA), OAuth 소셜 로그인, 생체 인증, 디바이스 핑거프린팅, 위치 기반 접근 제어, Rate Limiting... **새로운 표준과 공격 방식, 그리고 도메인에 따라 점차 늘어나는 검문 절차는 끝이 없다. 아마 더욱 늘어나기만 하고 줄어들지는 않을 것이다.** ~~없애버리면 레거시는 어떡하나 레거시는~~

### 핵심 검문 도구 세 가지

오늘은 Rate Limiting이나 생체 인증 같은 특수 검문 기법은 다루지 않는다. 대신 모든 백엔드 개발자가 반드시 숙지해야 할 **가장 기본적이면서도 핵심적인 신원 확인 방법** 세 가지 - 세션, 쿠키, 그리고 토큰에 대해 깊이 파헤쳐보려 한다. 이들은 Papers, Please의 여권, 입국 허가증, 통행증처럼 디지털 세계의 기본 서류들이다.
새로운 표준과 공격 방식, 그리고 도메인에 따라 점차 늘어나는 검문 절차는 끝이 없다, 아마 더욱 늘어나기만 하고 줄어들지는 않을 예정

### 우리가 마주한 세 가지 검문 방식



**세션(Session)** - 검문소가 모든 것을 기억하는 방식  
**쿠키(Cookie)** - 방문자에게 임시 통행증을 발급하는 방식  
**토큰(JWT)** - 위조 불가능한 스마트 여권을 사용하는 방식

각각의 방식은 나름의 장단점이 있고, 상황에 따라 적절히 선택해야 한다. 마치 Papers, Please에서 규정과 인정 사이에서 균형을 잡아야 하듯이 말이다.

자, 이제 검문소 부스에 앉아보자.
> _"다음 분!"_ 

